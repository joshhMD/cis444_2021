<!DOCTYPE html>
<html>
    <head>
             <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    </head>
    <body>



            <div id="Register" style="text-align:center;">
                <input type="text" id="username" name="username" placeholder="Username" style="margin-top: 30px;  margin-bottom: 10px; width: 300px; border: 1px solid black;"></input>
                <br>
                <input type="password" id="password" name="password" placeholder="Password" style="margin-bottom: 10px; width: 300px; border: 1px solid black;"></input>
                <br>
                <input type="submit" value="Register" id="registerButton" onclick="return login()">

            </div>
            <div id="Login" style="text-align:center;">
                <br>
                <br>
                <button onclick="location.href = '../welcome';" id="myButton" class="float-left submit-button" >Already a User? Click Here!</button>
	    </div>

        <script>

                function showBooks()
                {
                        console.log("These are the books")
                }



                function login()
                {
                        loginTest().then(results => {
                                if(results == true)
                                {
                                        showBooks();
					alert("Account successfuly created")
                                        return true;
                                }
                                else
                                {
                                        var form = document.getElementById("username");
                                        form.value = '';
                                        var form2 = document.getElementById("password");
                                        form2.value = '';
                                        alert("Account Username already taken");
                                        return false;
                                }
                        });
                }





                async function loginTest()
                {

                        resultsTemp = await $.post("/register",
                                {
                                        username: $('#username').val(),
                                        password: $('#password').val()
                                });

			if(resultsTemp == 'false')
                        {
                                return false;
                        }
                        else if(resultsTemp == 'true')
                        {
                                return true;
                        }
                }

        </script>

    </body>
</html>
